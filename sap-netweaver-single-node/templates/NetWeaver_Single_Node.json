{
    "ROSTemplateFormatVersion": "2015-09-01",
    "Description": "创建单节点SAP NetWeaver实例和单节点SAP HANA实例。",
    "Parameters": {
        "ImageId": {
            "Type": "String",
            "Description": {
                "zh-cn": "操作系统版本",
                "en": "Operating system and version"
            },
            "Label": {
                "zh-cn": "操作系统版本",
                "en": "Operating System And Version"
            },
            "AllowedValues": [
                "SUSE15SP1-SAP",
                "SUSE12SP5-SAP",
                "SUSE12SP4-SAP",
                "SUSE12SP3-SAP"
            ]
        },
        "CustomizedImageId": {
            "Type": "String",
            "Description": {
                "zh-cn": "使用自定义镜像",
                "en": "Please enter a custom image id"
            },
            "Label": {
                "zh-cn": "自定义镜像Id",
                "en": "Custom Image Id"
            },
            "Default": ""
        },
        "CustomizedImage": {
            "Type": "Boolean",
            "Description": {
                "zh-cn": "是否使用自定义镜像",
                "en": "Use custom image or not"
            },
            "Label": {
                "zh-cn": "使用自定义镜像",
                "en": "Use Custom Image"
            },
            "Default": false
        },
        "ZoneId": {
            "Type": "String",
            "AssociationProperty": "ALIYUN::ECS::Instance:ZoneId",
            "Description": {
                "zh-cn": "可用区列表请参考, <a href='https://help.aliyun.com/document_detail/40654.html' target='_blank'>地域和可用区信息</a>",
                "en": "The Availability Zone where instances will be deployed"
            },
            "Label": {
                "zh-cn": "部署的可用区",
                "en": "Availability Zones"
            }
        },
        "VpcId": {
            "Type": "String",
            "AssociationProperty": "ALIYUN::ECS::VPC::VPCId",
            "Description": {
                "zh-cn": "控制台-VPC-专有网络下查询",
                "en": "Please search the ID starting with (vpc-xxx)from console-Virtual Private Cloud"
            },
            "Label": {
                "zh-cn": "现有VPC的实例ID",
                "en": "Exisit VPC Instance ID"
            }
        },
        "VSwitchId": {
            "Type": "String",
            "AssociationProperty": "ALIYUN::ECS::VSwitch::VSwitchId",
            "Description": {
                "zh-cn": "控制台-VPC-专有网络-交换机下查询",
                "en": "Please search the ID starting with (vsw-xxx) from console-Virtual Private Cloud-VSwitches"
            },
            "Label": {
                "zh-cn": "现有VSwitch的实例ID",
                "en": "Exisit VSwitch Instance ID"
            }
        },
        "LoginPassword": {
            "Type": "String",
            "Description": {
                "zh-cn": "ECS root用户登录密码",
                "en": "ECS root passowrd"
            },
            "Label": {
                "zh-cn": "root用户密码",
                "en": "root Passowrd"
            },
            "AllowedPattern": "^(?![a-zA-Z]+$)(?![A-Z0-9]+$)(?![A-Z\\W_]+$)(?![a-z0-9]+$)(?![a-z\\W_]+$)(?![0-9\\W_]+$)[a-zA-Z0-9\\W_]{8,30}$",
            "ConstraintDescription": {
                "zh-cn": "8-30个字符，且同时包含三项（大写字母，小写字母，数字或特殊符号）",
                "en": "8-30 characters,include(capital letter,lowercase letter,numbers or special characters)"
            },
            "NoEcho": true,
            "Confirm": true
        },
        "SystemDiskCategory": {
            "Default": "cloud_essd",
            "AllowedValues": [
                "cloud_efficiency",
                "cloud_ssd",
                "cloud_essd"
            ],
            "Description": {
                "zh-cn": "系统盘分类：高效云盘，SSD云盘，ESSD云盘（PL1）",
                "en": "System disk type: Ultra Disk,SSD disk"
            },
            "Label": {
                "zh-cn": "系统盘类型",
                "en": "System Disk Type"
            },
            "Type": "String"
        },
        "SystemDiskSize": {
            "Default": "100",
            "Type": "String",
            "Description": {
                "zh-cn": "根目录大小，单位GB，容量20-500G",
                "en": " / file system size,unit:GB,range:20~500G"
            },
            "ConstraintDescription": {
                "zh-cn": "必须输入整数，单位GB，容量20-500G",
                "en": "Must be an integer,range:20~500G"
            },
            "Label": {
                "zh-cn": "系统盘大小",
                "en": "System Disk Size"
            },
            "AllowedPattern": "(^2[0-9]$)|(^[3-9]\\d$)|(^[1-4]\\d{2}$)|500$"
        },
        "MasterPass": {
            "NoEcho": true,
            "Type": "String",
            "Description": {
                "zh-cn": "SAP HANA和NetWeaver Master密码",
                "en": "SAP NetWeaver and HANA master password"
            },
            "AllowedPattern": "^(?=.*[0-9].*)(?=.*[A-Z].*)(?=.*[a-z].*)[a-zA-Z][0-9a-zA-Z_@#$]{7,}$",
            "Label": {
                "zh-cn": "Master密码",
                "en": "SAP NetWeaver and HANA master password"
            },
            "Confirm": true,
            "ConstraintDescription": {
                "zh-cn": "至少8个字符,至少包含一个数字，大写字母和小写字母，可以使用特殊字符（_,@,#,$)，但不能以数字和特殊字符开头。",
                "en": "Has to be at least 8 characters long.Must contain at least one upper case letter(A-Z).Must contain at least one lower case letter(a-z).Must contain at least one digit(0-9),can use special characters include(_,@,#,$),but can't staring with number and specical characters."
            }
        },
        "ActionTrailCondition": {
            "Type": "Boolean",
            "Description": {
                "zh-cn": "是否添加操作审计（ActionTrail）功能",
                "en": "Whether enable action trail function"
            },
            "Label": {
                "zh-cn": "操作审计",
                "en": "ActionTrail"
            },
            "Default": false
        },
        "ActionTrailOssBucketName": {
            "Type": "String",
            "Description": {
                "zh-cn": "填写用于存储日志文件的已有的OSS bucket名称.例：mybucket.",
                "en": "Please create an OSS bucket for storage ActionTrail logs and input the bucket name.eg:mybucket"
            },
            "Label": {
                "zh-cn": "日志存储Bucket Name",
                "en": "Actiontrail Bucket Name"
            },
            "Default": ""
        },
        "WindowsRDPImageId": {
            "Type": "String",
            "Description": {
                "zh-cn": "跳板机操作系统版本",
                "en": "Operating system and version"
            },
            "Label": {
                "zh-cn": "跳板机操作系统版本",
                "en": "Operating System And Version"
            },
            "Default": "win2016",
            "AllowedValues": [
                "win2016",
                "win2012",
                "win2008"
            ]
        },
        "WindowsRDPHostname": {
            "Type": "String",
            "Description": {
                "zh-cn": "跳板机的主机名",
                "en": "Hostname of windows WindowsRDP server"
            },
            "Label": {
                "zh-cn": "跳板机主机名",
                "en": "Hostname"
            },
            "Default": "SAPWindowsRDP"
        },
        "WindowsRDPCondition": {
            "Type": "Boolean",
            "Description": {
                "zh-cn": "是否需要创建跳板机",
                "en": "Whether enable windows WindowsRDP server"
            },
            "Label": {
                "zh-cn": "跳板机",
                "en": "Windows WindowsRDP Server"
            },
            "Default": false
        },
        "WindowsRDPInstanceType": {
            "Type": "String",
            "Description": {
                "zh-cn": "<font color='blue'><b>1.选择机型前请先确认当前可用区下该机型是否有货，部分机型需要提前报备</b></font><br><font color='blue'><b>2.详情请参考</font><a href='https://help.aliyun.com/document_detail/25378.html'target='_blank'><b>实例族详情</b></a>",
                "en": "WindowsRDP instance types"
            },
            "Label": {
                "zh-cn": "跳板机机型",
                "en": "WindowsRDP Server Instance Type"
            },
            "Default": "ecs.g5.large(2vCPUs 8GiB)",
            "AllowedValues": [
                "ecs.sn2ne.large(2vCPUs 8GiB)",
                "ecs.sn2ne.xlarge(4vCPUs 16GiB)",
                "ecs.sn1ne.large(2vCPUs 4GiB)",
                "ecs.sn1ne.xlarge(4vCPUs 8GiB)",
                "ecs.g5.large(2vCPUs 8GiB)",
                "ecs.g5.xlarge(4vCPUs 16GiB)",
                "ecs.c5.large(2vCPUs 4GiB)",
                "ecs.c5.xlarge(4vCPUs 8GiB)"
            ]
        },
        "HANAInstanceType": {
            "Type": "String",
            "Description": {
                "zh-cn": "<font color='blue'><b>1.选择机型前请先确认当前可用区下该机型是否有货，部分机型需要提前报备</b></font><br><font color='blue'><b>2.可选机型列表</b></font><br>[ecs.r5.2xlarge 非认证机型 64G]<br>[ecs.r5.4xlarge 非认证机型 128G]<br>[ecs.r5.8xlarge <font color='green'>SAP认证机型 256G</font>]<br>[ecs.r6.13xlarge <font color='green'>SAP认证机型 384G</font>]<br>[ecs.se1.14xlarge <font color='green'>SAP认证机型 480G</font>]<br>[ecs.r5.16xlarge <font color='green'>SAP认证机型 512G</font>]<br>[ecs.re6.13xlarge <font color='green'>SAP认证机型 768G</font>]<br>[ecs.re4.20xlarge <font color='green'>SAP认证机型 960G</font>]<br>[ecs.re6.26xlarge <font color='green'>SAP认证机型 1536G</font>]<br>[ecs.re4.40xlarge <font color='green'>SAP认证机型 1920G</font>]<br>[ecs.re6.52xlarge <font color='green'>SAP认证机型 3072G</font>]<br>[ecs.re4e.40xlarge <font color='green'>SAP认证机型 3840G</font>]<br>[ecs.ebmre6-6t.52xlarge <font color='green'>SAP认证机型 6144G</font>]<br><font color='blue'><b>3.详情请参考</font> <a href='https://help.aliyun.com/document_detail/25378.html' target='_blank'><b>实例族详情</b></a>",
                "en": "<font color='blue'><b>Instance type list</b></font><br> [ecs.r5.2xlarge Non-certified instance type 64G]<br>[ecs.r5.4xlarge Non-certified instance type 128G]<br>[ecs.r5.8xlarge <font color='green'>SAP certified instance type 256G</font>]<br>[ecs.r6.13xlarge <font color='green'>SAP certified instance type 384G</font>]<br>[ecs.se1.14xlarge <font color='green'>SAP certified instance type 480G</font>]<br>[ecs.r5.16xlarge <font color='green'>SAP certified instance type 512G</font>]<br>[ecs.re6.13xlarge <font color='green'>SAP certified instance type 768G</font>]<br>[ecs.re4.20xlarge <font color='green'>SAP certified instance type 960G</font>]<br>[ecs.re6.26xlarge <font color='green'>SAP certified instance type 1536G</font>]<br>[ecs.re4.40xlarge <font color='green'>SAP certified instance type 1920G</font>]<br>[ecs.re6.52xlarge <font color='green'>SAP certified instance type 3072G</font>]<br>[ecs.re4e.40xlarge <font color='green'>SAP certified instance type 3840G</font>]<br>[ecs.ebmre6-6t.52xlarge <font color='green'>SAP certified instance type 6144G</font>]"
            },
            "Label": {
                "zh-cn": "HANA DB机型",
                "en": "Instance Type For HANA DB Host"
            },
            "AllowedValues": [
                "ecs.r5.2xlarge(8vCPUs 64GiB)",
                "ecs.r5.4xlarge(16vCPUs 128GiB)",
                "ecs.r5.8xlarge(32vCPUs 256GiB)",
                "ecs.r6.13xlarge(52vCPUs 384GiB)",
                "ecs.se1.14xlarge(56vCPUs 480GiB)",
                "ecs.r5.16xlarge(64vCPUs 512GiB)",
                "ecs.re6.13xlarge(52vCPUs 768GiB)",
                "ecs.re4.20xlarge(80vCPUs 960GiB)",
                "ecs.re6.26xlarge(104vCPUs 1536GiB)",
                "ecs.re4.40xlarge(160vCPUs 1920GiB)",
                "ecs.re6.52xlarge(208vCPUs 3072GiB)",
                "ecs.re4e.40xlarge(160vCPUs 3840GiB)",
                "ecs.ebmre6-6t.52xlarge(208vCPUs 6144GiB)"
            ]
        },
        "HANAHostName": {
            "Type": "String",
            "Description": {
                "zh-cn": "SAP HANA所在ECS的主机名",
                "en": "SAP HANA ECS hostname"
            },
            "Label": {
                "zh-cn": "SAP HANA ECS主机名",
                "en": "SAP HANA Hostname"
            },
            "Default": "hana001",
            "AllowedPattern": "^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-])*([a-zA-Z0-9])$",
            "ConstraintDescription": {
                "zh-cn": "长度为 2-13 个字符，允许使用大小写字母、数字或连字符(-)，但不能以连字符(-)开头或结尾。",
                "en": "The length is 2-13 characters,can starting with a capital or lowercase letter,and can contain numbers,or -,but can't starting with - or end with -"
            },
            "MinLength": 2,
            "MaxLength": 13
        },
        "HANAPrivateIpAddress": {
            "Type": "String",
            "Description": {
                "zh-cn": "SAP HANA ECS主机私有IP地址,请注意IP地址的范围要在交换机网段",
                "en": "Private IP address for HANA ECS host,please pay attention:IP address should be within VSwitch CIDR Block"
            },
            "Label": {
                "zh-cn": "SAP HANA主机私有IP地址",
                "en": "SAP HANA Private IP Address"
            },
            "ConstraintDescription": {
                "zh-cn": "请输入正确的私有IP地址",
                "en": "Please input the right private IP address"
            },
            "AllowedPattern": "^((192\\.168|172\\.([1][6-9]|[2]\\d|3[01]))(\\.([2][0-4]\\d|[2][5][0-5]|[01]?\\d?\\d)){2}|(\\D)*10(\\.([2][0-4]\\d|[2][5][0-5]|[01]?\\d?\\d)){3})$"
        },
        "HANASID": {
            "Type": "String",
            "ConstraintDescription": {
                "zh-cn": "必须输入3个字符,可包含大写字母或数字，首位必须是大写字母",
                "en": "3 characters,can including capital letter or number, must starting with capital letter"
            },
            "Description": {
                "zh-cn": "SAP HANA实例system ID",
                "en": "SAP HANA system ID"
            },
            "Label": {
                "zh-cn": "SAP HANA SID",
                "en": "SAP HANA System ID"
            },
            "AllowedPattern": "^([A-Z]{1}[0-9A-Z]{2})$"
        },
        "HANAInstanceNumber": {
            "Type": "String",
            "Description": {
                "zh-cn": "HANA DB instance number",
                "en": "HANA DB instance number"
            },
            "ConstraintDescription": {
                "zh-cn": "2位数字，00-96",
                "en": "2 numbers,00-96"
            },
            "Label": {
                "zh-cn": "HANA DB实例编号",
                "en": "HANA DB Instance Number"
            },
            "AllowedPattern": "^([0-8][0-9]|9[0-6])$",
            "Default": "00"
        },
        "DataLogDiskCategory": {
            "Default": "cloud_essd PL1",
            "AllowedValues": [
                "cloud_essd PL1",
                "cloud_essd PL2",
                "cloud_essd PL3",
                "cloud_ssd"
            ],
            "Description": {
                "zh-cn": "1. '/hana/data'和'/hana/log'文件系统所在磁盘类型：ESSD云盘、SSD云盘。<br>2. ESSD 云盘容量越大，可供选择的性能级别越高（460 GiB 以上可选 PL2，1260 GiB 以上可选 PL3），性能级别越高相应的费用也越高:<ul><li>&nbsp;&nbsp;&nbsp;&nbsp;cloud_essd PL1（单盘IOPS性能上限5万）</li><li>&nbsp;&nbsp;&nbsp;&nbsp;cloud_essd PL2（单盘IOPS性能上限10万）</li><li>&nbsp;&nbsp;&nbsp;&nbsp;cloud_essd PL3（单盘IOPS性能上限100万）</li></ul>如何合理选择 ESSD 云盘性能级别，<a href='https://help.aliyun.com/document_detail/122389.html' target='view_window'>查看详情&gt;</a>",
                "en": "1. '/hana/data' and '/hana/log' file system disk type: ESSD disk,SSD disk.<br>2. The higher the performance level that you can select. For example, PL2 is available for an enhanced SSD of more than 460 GiB and PL3 is available for an enhanced SSD of more than 1260 GiB. A higher performance level indicates a higher fee:<ul><li>&nbsp;&nbsp;&nbsp;&nbsp;cloud_essd PL1(up to 50,000 IOPS per disk)</li><li>&nbsp;&nbsp;&nbsp;&nbsp;cloud_essd PL2(up to 100,000 IOPS per disk)</li><li>&nbsp;&nbsp;&nbsp;&nbsp;cloud_essd PL3(up to 1,000,000 IOPS per disk)</li></ul>For more information about how to select the performance level of an enhanced SSD, <a href='https://help.aliyun.com/document_detail/122389.html' target='view_window'>click here&gt;</a>"
            },
            "Label": {
                "zh-cn": "HANA DB数据卷和日志卷磁盘类型",
                "en": "HANA DB Data And Log Volume Disk Type"
            },
            "Type": "String"
        },
        "DataSize": {
            "Type": "String",
            "Description": {
                "zh-cn": "'/hana/data'文件系统大小，单位GB，SAP官方推荐：Size >= 1 x RAM",
                "en": "'/hana/data' file system size,unit:GB,SAP recommendation:Size >= 1 x RAM"
            },
            "ConstraintDescription": {
                "zh-cn": "必须输入整数，容量20-32768G",
                "en": "Must be an integer,range:20~32768G"
            },
            "Label": {
                "zh-cn": "/hana/data大小",
                "en": "/hana/data File System Size"
            },
            "AllowedPattern": "(^[2-9]\\d{1}$)|(^[1-9]\\d{2}$)|(^[1-9]\\d{3}$)|(^[1-2]\\d{4}$)|(^3[0-2][0-7][0-6][0-8]$)"
        },
        "LogSize": {
            "Type": "String",
            "Description": {
                "zh-cn": "'/hana/log'文件系统大小，单位GB，SAP官方推荐：[systems ≤ 512GB ] Sizeredolog = 1/2 x RAM;[systems > 512GB ] Sizeredolog(min) = 512GB",
                "en": "'/hana/log' file system size,unit:GB,SAP recommendation:[systems ≤ 512GB ] Sizeredolog = 1/2 x RAM;[systems > 512GB ] Sizeredolog(min) = 512GB"
            },
            "ConstraintDescription": {
                "zh-cn": "必须输入整数，容量20-32768G",
                "en": "Must be an integer,range:20~32768G"
            },
            "Label": {
                "zh-cn": "/hana/log大小",
                "en": "/hana/log File System Size"
            },
            "AllowedPattern": "(^[2-9]\\d{1}$)|(^[1-9]\\d{2}$)|(^[1-9]\\d{3}$)|(^[1-2]\\d{4}$)|(^3[0-2][0-7][0-6][0-8]$)"
        },
        "SharedDiskCategory": {
            "Default": "cloud_essd",
            "AllowedValues": [
                "cloud_efficiency",
                "cloud_ssd",
                "cloud_essd"
            ],
            "Description": {
                "zh-cn": "'/hana/shared'文件系统所在磁盘类型：高效云盘、SSD云盘、ESSD云盘",
                "en": "'/hana/shared' file system disk type: Ultra Disk, SSD disk, ESSD disk"
            },
            "Label": {
                "zh-cn": "HANA DB共享卷磁盘类型",
                "en": "/hana/shared File System Disk Type"
            },
            "Type": "String"
        },
        "SharedSize": {
            "Type": "String",
            "Description": {
                "zh-cn": "'/hana/shared'文件系统大小，单位GB，SAP官方推荐：Sizeinstallation(single-node) = MIN(1 x RAM; 1 TB)",
                "en": "'/hana/shared' file system size,unit:GB,SAP recommendation: Sizeinstallation(single-node) = MIN(1 x RAM; 1 TB)"
            },
            "ConstraintDescription": {
                "zh-cn": "必须输入整数，容量20-32768G",
                "en": "Must be an integer,range:20~32768G"
            },
            "Label": {
                "zh-cn": "/hana/shared大小",
                "en": "/hana/shared File System Size"
            },
            "AllowedPattern": "(^[2-9]\\d{1}$)|(^[1-9]\\d{2}$)|(^[1-9]\\d{3}$)|(^[1-2]\\d{4}$)|(^3[0-2][0-7][0-6][0-8]$)"
        },
        "HANAUsrsapDiskCategory": {
            "Default": "cloud_essd",
            "AllowedValues": [
                "cloud_efficiency",
                "cloud_ssd",
                "cloud_essd"
            ],
            "Description": {
                "zh-cn": "'/usr/sap'文件系统所在磁盘类型：高效云盘、SSD云盘、ESSD云盘",
                "en": "'/usr/sap' file system disk type: Ultra Disk, SSD disk, ESSD disk"
            },
            "Label": {
                "zh-cn": "/usr/sap文件系统所在磁盘类型",
                "en": "/usr/sap File System Disk Type"
            },
            "Type": "String"
        },
        "HANAUsrsapSize": {
            "Type": "String",
            "Description": {
                "zh-cn": "'/usr/sap'文件系统大小，单位GB",
                "en": "'/usr/sap' file system size,unit:GB"
            },
            "Default": "100",
            "ConstraintDescription": {
                "zh-cn": "必须输入整数，容量20-32768G",
                "en": "Must be an integer,range:20~32768G"
            },
            "Label": {
                "zh-cn": "/usr/sap大小",
                "en": "/usr/sap File System Size"
            },
            "AllowedPattern": "(^[2-9]\\d{1}$)|(^[1-9]\\d{2}$)|(^[1-9]\\d{3}$)|(^[1-2]\\d{4}$)|(^3[0-2][0-7][0-6][0-8]$)"
        },
        "SystemUsage": {
            "Type": "String",
            "Description": {
                "zh-cn": "SAP HANA DB系统类型，包括custom,development,test,production",
                "en": "SAP HANA DB system usage(custom,development,test,production)"
            },
            "Label": {
                "zh-cn": "HANA DB系统类型",
                "en": "HANA DB System Usage"
            },
            "Default": "custom",
            "AllowedValues": [
                "custom",
                "development",
                "test",
                "production"
            ]
        },
        "HANASapSidAdmUid": {
            "Type": "String",
            "Description": {
                "zh-cn": "'sidadm' user ID,只能填写数字,大于500且小于65532，默认值为1001",
                "en": "'sidadm' user ID,Only number,range:500~65532,default value:1001"
            },
            "Label": {
                "zh-cn": "HANA DB sidadm用户ID",
                "en": "HANA DB sidadm User ID"
            },
            "Default": "1001",
            "ConstraintDescription": {
                "zh-cn": "只能填写数字,大于500且小于65532",
                "en": "Only number,range:500~65532"
            },
            "AllowedPattern": "(^[5-9]\\d{2}$)|(^[1-9]\\d{3}$)|(^[1-5]\\d{4}$)|(^6[0-5][0-5][0-3][0-2]$)"
        },
        "HANASapSysGid": {
            "Type": "String",
            "Description": {
                "zh-cn": "'sapsys' group ID,只能填写数字,默认值是79",
                "en": "'sapsys' group ID,Only number,default value:79"
            },
            "Label": {
                "zh-cn": "HANA DB sapsys组ID",
                "en": "HANA DB sapsys Group ID"
            },
            "Default": "79",
            "ConstraintDescription": {
                "zh-cn": "只能填写数字",
                "en": "Only number"
            },
            "AllowedPattern": "(^\\d+$)"
        },
        "NWHostname": {
            "Type": "String",
            "Description": {
                "zh-cn": "NetWeaver实例主机名，长度为 2-13 个字符，允许使用大小写字母、数字或连字符(-)，但不能以连字符(-)开头或结尾。",
                "en": "NetWeaver ECS Hostname"
            },
            "Label": {
                "zh-cn": "NetWeaver实例主机名",
                "en": "NetWeaver Hostname"
            },
            "Default": "sap001",
            "AllowedPattern": "^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-])*([a-zA-Z0-9])$",
            "ConstraintDescription": {
                "zh-cn": "长度为 2-13 个字符，允许使用大小写字母、数字或连字符(-)，但不能以连字符(-)开头或结尾。",
                "en": "The length is 2-13 characters,can starting with a capital or lowercase letter,and can contain numbers,or -,but can't starting with - or end with -"
            },
            "MinLength": 2,
            "MaxLength": 13
        },
        "NWInstanceType": {
            "Type": "String",
            "Description": {
                "zh-cn": "<font color='blue'><b>1.选择机型前请先确认当前可用区下该机型是否有货，部分机型需要提前报备</b></font><br><font color='blue'><b>2.详情请参考</font> <a href='https://help.aliyun.com/document_detail/25378.html' target='_blank'><b>实例族详情</b></a>",
                "en": "Instance type for SAP NetWeaver host"
            },
            "Label": {
                "zh-cn": "NetWeaver 实例机型",
                "en": "Instance Type For SAP NetWeaver Host"
            },
            "AllowedValues": [
                "ecs.r6e.large(2vCPUs 16GiB)",
                "ecs.r6e.xlarge(4vCPUs 32GiB)",
                "ecs.r6e.2xlarge(8vCPUs 64GiB)",
                "ecs.r6e.4xlarge(16vCPUs 128GiB)",
                "ecs.r6e.6xlarge(24vCPUs 192GiB)",
                "ecs.r6e.8xlarge(32vCPUs 256GiB)",
                "ecs.g6e.large(2vCPUs 8GiB)",
                "ecs.g6e.xlarge(4vCPUs 16GiB)",
                "ecs.g6e.2xlarge(8vCPUs 32GiB)",
                "ecs.g6e.4xlarge(16vCPUs 64GiB)",
                "ecs.g6e.6xlarge(24vCPUs 96GiB)",
                "ecs.g6e.8xlarge(32vCPUs 128GiB)",
                "ecs.c6e.large(2vCPUs 4GiB)",
                "ecs.c6e.xlarge(4vCPUs 8GiB)",
                "ecs.c6e.2xlarge(8vCPUs 16GiB)",
                "ecs.c6e.4xlarge(16vCPUs 32GiB)",
                "ecs.c6e.6xlarge(24vCPUs 48GiB)",
                "ecs.c6e.8xlarge(32vCPUs 64GiB)",
                "ecs.r6.large(2vCPUs 16GiB)",
                "ecs.r6.xlarge(4vCPUs 32GiB)",
                "ecs.r6.2xlarge(8vCPUs 64GiB)",
                "ecs.r6.3xlarge(12vCPUs 96GiB)",
                "ecs.r6.4xlarge(16vCPUs 128GiB)",
                "ecs.r6.6xlarge(24vCPUs 192GiB)",
                "ecs.r6.8xlarge(32vCPUs 256GiB)",
                "ecs.g6.large(2vCPUs 8GiB)",
                "ecs.g6.xlarge(4vCPUs 16GiB)",
                "ecs.g6.2xlarge(8vCPUs 32GiB)",
                "ecs.g6.3xlarge(12vCPUs 48GiB)",
                "ecs.g6.4xlarge(16vCPUs 64GiB)",
                "ecs.g6.6xlarge(24vCPUs 96GiB)",
                "ecs.g6.8xlarge(32vCPUs 128GiB)",
                "ecs.r5.large(2vCPUs 16GiB)",
                "ecs.r5.xlarge(4vCPUs 32GiB)",
                "ecs.r5.2xlarge(8vCPUs 64GiB)",
                "ecs.r5.3xlarge(12vCPUs 96GiB)",
                "ecs.r5.4xlarge(16vCPUs 128GiB)",
                "ecs.r5.6xlarge(24vCPUs 192GiB)",
                "ecs.r5.8xlarge(32vCPUs 256GiB)",
                "ecs.g5.large(2vCPUs 8GiB)",
                "ecs.g5.xlarge(4vCPUs 16GiB)",
                "ecs.g5.2xlarge(8vCPUs 32GiB)",
                "ecs.g5.3xlarge(12vCPUs 48GiB)",
                "ecs.g5.4xlarge(16vCPUs 64GiB)",
                "ecs.g5.6xlarge(24vCPUs 96GiB)",
                "ecs.g5.8xlarge(32vCPUs 128GiB)",
                "ecs.sn2ne.large(2vCPUs 8GiB)",
                "ecs.sn2ne.xlarge(4vCPUs 16GiB)",
                "ecs.sn2ne.2xlarge(8vCPUs 32GiB)",
                "ecs.sn2ne.3xlarge(12vCPUs 48GiB)",
                "ecs.sn2ne.4xlarge(16vCPUs 64GiB)",
                "ecs.sn2ne.6xlarge(24vCPUs 96GiB)",
                "ecs.sn2ne.8xlarge(32vCPUs 128GiB)",
                "ecs.sn2ne.14xlarge (56vCPUs 224GiB)",
                "ecs.re6.13xlarge(52vCPUs 768GiB)",
                "ecs.re6.26xlarge(104vCPUs 1536GiB)",
                "ecs.re6.52xlarge(208vCPUs 3072GiB)"
            ]
        },
        "NWPrivateIpAddress": {
            "Type": "String",
            "Description": {
                "zh-cn": "SAP NetWeaver实例私有IP地址,请注意IP地址的范围要在交换机网段",
                "en": "Private IP address for SAP NetWeaver ECS host,please pay attention:IP address should be within VSwitch CIDR Block"
            },
            "Label": {
                "zh-cn": "SAP NetWeaver实例私有IP地址",
                "en": "SAP NetWeaver Private IP Address"
            },
            "ConstraintDescription": {
                "zh-cn": "请输入正确的私有IP地址",
                "en": "Please input the right private IP address"
            },
            "AllowedPattern": "^((192\\.168|172\\.([1][6-9]|[2]\\d|3[01]))(\\.([2][0-4]\\d|[2][5][0-5]|[01]?\\d?\\d)){2}|(\\D)*10(\\.([2][0-4]\\d|[2][5][0-5]|[01]?\\d?\\d)){3})$"
        },
        "SAPSID": {
            "Type": "String",
            "Description": {
                "zh-cn": "SAP NetWeaver实例System ID",
                "en": "SAP NetWeaver SID"
            },
            "ConstraintDescription": {
                "zh-cn": "必须输入3个字符,可包含大写字母或数字，首位必须是大写字母",
                "en": "3 characters,can including capital letter or number, must starting with capital letter"
            },
            "AllowedPattern": "^([A-Z]{1}[0-9A-Z]{2})$",
            "Label": {
                "zh-cn": "SAP NetWeaver SID",
                "en": "SAP NetWeaver SID"
            }
        },
        "ASCSInstanceNumber": {
            "Type": "String",
            "Description": {
                "zh-cn": "ASCS instance number",
                "en": "ASCS instance number"
            },
            "Label": {
                "zh-cn": "ASCS实例编号",
                "en": "ASCS Instance Number"
            },
            "ConstraintDescription": {
                "zh-cn": "只能填写两位数字",
                "en": "2 numbers,00-97"
            },
            "AllowedPattern": "^([0-8][0-9]|9[0-6])$"
        },
        "PASInstanceNumber": {
            "Type": "String",
            "Description": {
                "zh-cn": "PAS instance number",
                "en": "PAS instance number"
            },
            "Label": {
                "zh-cn": "PAS实例编号",
                "en": "PAS Instance Number"
            },
            "ConstraintDescription": {
                "zh-cn": "只能填写两位数字",
                "en": "2 numbers,00-97"
            },
            "AllowedPattern": "^([0-8][0-9]|9[0-6])$"
        },
        "NWUsrsapDiskCategory": {
            "Default": "cloud_essd",
            "AllowedValues": [
                "cloud_efficiency",
                "cloud_ssd",
                "cloud_essd"
            ],
            "Description": {
                "zh-cn": "'/usr/sap'文件系统所在磁盘类型：高效云盘、SSD云盘、ESSD云盘",
                "en": "'/usr/sap' file system disk type: Ultra Disk, SSD disk, ESSD disk"
            },
            "Label": {
                "zh-cn": "/usr/sap文件系统所在磁盘类型",
                "en": "/usr/sap File System Disk Type"
            },
            "Type": "String"
        },
        "UsrsapSize": {
            "Type": "Number",
            "Description": {
                "zh-cn": "'/usr/sap'文件系统大小，单位GB",
                "en": "'/usr/sap' file system size,unit:GB,range:20~32768G"
            },
            "ConstraintDescription": {
                "zh-cn": "必须输入整数，容量20-32768G",
                "en": "Must be an integer,range:20~32768G"
            },
            "MaxValue": 32768,
            "MinValue": 20,
            "Label": {
                "zh-cn": "/usr/sap大小",
                "en": "/usr/sap File System Size"
            }
        },
        "SapmntDiskCategory": {
            "Default": "cloud_essd",
            "AllowedValues": [
                "cloud_efficiency",
                "cloud_ssd",
                "cloud_essd"
            ],
            "Description": {
                "zh-cn": "/sapmnt文件系统所在磁盘类型：高效云盘、SSD云盘、ESSD云盘",
                "en": "/sapmnt file system disk type: Ultra Disk, SSD disk, ESSD disk"
            },
            "Label": {
                "zh-cn": "/sapmnt文件系统所在磁盘类型",
                "en": "/sapmnt File System Disk Type"
            },
            "Type": "String"
        },
        "SapmntSize": {
            "Type": "Number",
            "Description": {
                "zh-cn": "/sapmnt文件系统大小，单位GB。",
                "en": "/sapmnt file system size,unit:GB,range:20~32768G"
            },
            "ConstraintDescription": {
                "zh-cn": "必须输入整数，容量20-32768G",
                "en": "Must be an integer,range:20~32768G"
            },
            "MaxValue": 32768,
            "MinValue": 20,
            "Label": {
                "zh-cn": "/sapmnt大小",
                "en": "/sapmnt File System Size"
            }
        },
        "NWSwapDiskSize": {
            "Type": "String",
            "Description": {
                "zh-cn": "Swap大小,单位GB，推荐：参考SAP note：1597355 - Swap-space recommendation for Linux",
                "en": "Swap size,unit:GB，recommendation:refer to SA note：1597355 - Swap-space recommendation for Linux"
            },
            "ConstraintDescription": {
                "zh-cn": "必须输入整数，容量20-32768G",
                "en": "Must be an integer,range:20~32768G"
            },
            "Label": {
                "zh-cn": "SAP NetWeaver实例Swap大小",
                "en": "SAP NetWeaver Swap Size"
            },
            "AllowedPattern": "(^[2-9]\\d{1}$)|(^[1-9]\\d{2}$)|(^[1-9]\\d{3}$)|(^[1-2]\\d{4}$)|(^3[0-2][0-7][0-6][0-8]$)"
        },
        "MediaPath": {
            "Type": "String",
            "Description": {
                "zh-cn": "请从SAP官网下载HANA安装介质(无需解压等任何更改操作，原始包是类似51053381_part1.exe或.rar等4个包）上传至SAP HANA部署所在的OSS地域的bucket，输入以oss://开头的该目录的全路径。例：oss://{bucket_name}/hana",
                "en": "Please download the HANA installation media from SAP software download center(Don't need to extract, the packages are like these:51053381_part1.exe or.rar）and upload them into OSS bucket,input the full path starting with oss://. eg: oss://{bucket_name}/hana"
            },
            "Label": {
                "zh-cn": "SAP HANA DB软件包OSS路径",
                "en": "HANA DB Software OSS Path"
            },
            "ConstraintDescription": {
                "zh-cn": "oss:开头，oss://{bucket_name}/hana",
                "en": "Starting with oss.eg: oss://{bucket_name}/hana"
            },
            "AllowedPattern": "^(oss|http|https)://[\\S\\w]+$"
        },
        "NWMediaPath": {
            "Type": "String",
            "Description": {
                "zh-cn": "请从SAP官网下载SAP NetWeaver应用的安装介质(包括export包，需要升级的目标Kernel包，需要升级的目标HOSTAGENT，IGS，IGS helper，HANA client等软件包；无需解压等任何更改操作）上传至SAP部署所在的OSS地域的bucket，输入以oss://开头的该目录的全路径，例：oss://{bucket_name}/Application",
                "en": "Please download the SAP NetWeaver installation media from SAP software download center(Don't need to extract,the packages include Export packages;target Kernel,HOSTAGENT, IGS and IGS helper packages;HANA client packages）and upload them into OSS bucket,input the full path starting with oss://. eg: oss://{bucket_name}/Application"
            },
            "Label": {
                "zh-cn": "SAP NetWeaver软件包OSS路径",
                "en": "SAP NetWeaver Software OSS Path"
            },
            "ConstraintDescription": {
                "zh-cn": "oss:开头，例：oss://{bucket_name}/Application",
                "en": "Starting with oss.eg: oss://{bucket_name}/Application"
            },
            "AllowedPattern": "^(oss|http|https)://[\\S\\w]+$"
        },
        "FQDN": {
            "Type": "String",
            "Description": {
                "zh-cn": "FQDN domain name",
                "en": "FQDN domain name"
            },
            "Label": {
                "zh-cn": "FQDN Domain Name",
                "en": "FQDN Domain Name"
            },
            "Default": "local",
            "AllowedPattern": "(?!-)[a-zA-Z0-9-.]*(?<!-)"
        },
        "NWSapSysGid": {
            "Type": "String",
            "Description": {
                "zh-cn": "SAP NetWeaver实例sapsys组ID",
                "en": "SAP NetWeaver sapsys group ID "
            },
            "Label": {
                "zh-cn": "SAP NetWeaver实例sapsys组ID",
                "en": "SAP NetWeaver sapsys Group ID"
            },
            "Default": "1002",
            "ConstraintDescription": {
                "zh-cn": "只能填写数字，且不可为1001",
                "en": "Only number"
            },
            "AllowedPattern": "^(?!1001$)\\d+$"
        },
        "NWSapSidAdmUid": {
            "Type": "String",
            "Description": {
                "zh-cn": "SAP NetWeaver实例sidadm用户ID",
                "en": "SAP NetWeaver sidadm user ID"
            },
            "Label": {
                "zh-cn": "SAP NetWeaver实例sidadm用户ID",
                "en": "SAP NetWeaver sidadm User ID"
            },
            "Default": "2000",
            "ConstraintDescription": {
                "zh-cn": "只能填写数字",
                "en": "Only number"
            },
            "AllowedPattern": "(^\\d+$)"
        },
        "NWSapAdmUid": {
            "Type": "String",
            "Description": {
                "zh-cn": "SAP NetWeaver实例sapadm用户ID ",
                "en": "SAP NetWeaver sapadm user ID "
            },
            "Label": {
                "zh-cn": "SAP NetWeaver实例sapadm用户ID",
                "en": "SAP NetWeaver sapadm User ID"
            },
            "Default": "2001",
            "ConstraintDescription": {
                "zh-cn": "只能填写数字",
                "en": "Only number"
            },
            "AllowedPattern": "(^\\d+$)"
        },
        "AutomationProvider": {
            "Type": "String",
            "Description": {
                "zh-cn": "SAP自动部署依赖文件源",
                "en": "Provider of SAP auto installation files"
            },
            "Label": {
                "zh-cn": "SAP自动部署依赖源",
                "en": "SAP Automation Provider"
            },
            "Default": "sap-automation"
        },
        "SSHKeyPair": {
            "Type": "String",
            "AssociationProperty": "ALIYUN::ECS::KeyPair::KeyPairName",
            "Description": {
                "zh-cn": "同时为创建的实例绑定密钥对，默认不绑定。",
                "en": "Bind a key pair for ECS"
            },
            "Label": {
                "zh-cn": "密钥对",
                "en": "Key Pair"
            },
            "Default": ""
        },
        "Site": {
            "Type": "String",
            "Description": {
                "zh-cn": "当前部署所在站点：国际站、中国站。",
                "en": "Current deployment website: International, China."
            },
            "Label": {
                "zh-cn": "当前部署所在站点",
                "en": "Current deployment website"
            },
            "AllowedValues": [
                "International",
                "China"
            ],
            "Default": "China"
        },
        "ApplicationVersion": {
            "Type": "String",
            "Description": {
                "zh-cn": "SAP NetWeaver版本",
                "en": "SAP NetWeaver Version"
            },
            "Label": {
                "zh-cn": "SAP NetWeaver版本",
                "en": "SAP NetWeaver Version"
            },
            "Default": "NetWeaver 7.4SR2",
            "AllowedValues": [
                "NetWeaver 7.4SR2",
                "NetWeaver 7.5"
            ]
        }
    },
    "Metadata": {
        "ALIYUN::ROS::Interface": {
            "TemplateTags": [
                "SAP"
            ],
            "ParameterGroups": [
                {
                    "Label": {
                        "default": {
                            "zh-cn": "基础资源配置（必填）",
                            "en": "Infrastructure Configuration"
                        }
                    },
                    "Parameters": [
                        "ZoneId",
                        "ImageId",
                        "VpcId",
                        "VSwitchId",
                        "LoginPassword",
                        "SystemDiskCategory",
                        "SystemDiskSize",
                        "MasterPass"
                    ]
                },
                {
                    "Label": {
                        "default": {
                            "zh-cn": "HANA DB配置（必填）",
                            "en": "SAP HANA DB Configuration"
                        }
                    },
                    "Parameters": [
                        "HANAInstanceType",
                        "HANAHostName",
                        "HANAPrivateIpAddress",
                        "HANASID",
                        "HANAInstanceNumber",
                        "DataLogDiskCategory",
                        "DataSize",
                        "LogSize",
                        "SharedDiskCategory",
                        "SharedSize",
                        "HANAUsrsapDiskCategory",
                        "HANAUsrsapSize",
                        "MediaPath"
                    ]
                },
                {
                    "Label": {
                        "default": {
                            "zh-cn": "SAP NetWeaver配置（必填）",
                            "en": "SAP SAP NetWeaver Configuration"
                        }
                    },
                    "Parameters": [
                        "ApplicationVersion",
                        "NWHostname",
                        "NWInstanceType",
                        "NWPrivateIpAddress",
                        "SAPSID",
                        "ASCSInstanceNumber",
                        "PASInstanceNumber",
                        "NWUsrsapDiskCategory",
                        "UsrsapSize",
                        "SapmntDiskCategory",
                        "SapmntSize",
                        "NWSwapDiskSize",
                        "NWMediaPath"
                    ]
                },
                {
                    "Label": {
                        "default": {
                            "zh-cn": "可选配置",
                            "en": "Optional Configuration"
                        }
                    },
                    "Parameters": [
                        "SystemUsage",
                        "HANASapSysGid",
                        "HANASapSidAdmUid",
                        "FQDN",
                        "NWSapSysGid",
                        "NWSapSidAdmUid",
                        "NWSapAdmUid",
                        "CustomizedImage",
                        "CustomizedImageId",
                        "SSHKeyPair",
                        "AutomationProvider",
                        "Site"
                    ]
                },
                {
                    "Label": {
                        "default": {
                            "zh-cn": "WindowsRDP(可选)",
                            "en": "WindowsRDP server(optional)"
                        }
                    },
                    "Parameters": [
                        "WindowsRDPCondition",
                        "WindowsRDPHostname",
                        "WindowsRDPImageId",
                        "WindowsRDPInstanceType"
                    ]
                },
                {
                    "Label": {
                        "default": {
                            "zh-cn": "操作审计(可选)",
                            "en": "Action trail(optional)"
                        }
                    },
                    "Parameters": [
                        "ActionTrailCondition",
                        "ActionTrailOssBucketName"
                    ]
                }
            ]
        }
    },
    "Mappings": {
        "ImageMap-China": {
            "cn-qingdao": {
                "SUSE12SP4-SAP": "m-m5ecmko3ebq9pq2x31o6",
                "SUSE12SP3-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "m-m5e65w42xg3hc1zke8e8",
                "SUSE15SP1-SAP": "m-m5e8ifcmvlhmy49t0tzd"
            },
            "cn-beijing": {
                "SUSE12SP4-SAP": "m-2ze9c366n7p6s8otcwep",
                "SUSE12SP3-SAP": "m-2zecbq5bi9kmu31nmeji",
                "SUSE12SP5-SAP": "m-2ze5hiorcn5zbnwu5ea2",
                "SUSE15SP1-SAP": "m-2ze3vv5ek2wn8vf6nidh"
            },
            "cn-zhangjiakou": {
                "SUSE12SP4-SAP": "m-8vbc0hp0i2dybcb7h3wc",
                "SUSE12SP3-SAP": "m-8vb209btpns802pt24b4",
                "SUSE12SP5-SAP": "m-8vb8pmztvv1ptrejjk5s",
                "SUSE15SP1-SAP": "m-8vb1irisho5bz5cpb3ba"
            },
            "cn-huhehaote": {
                "SUSE12SP4-SAP": "m-hp3eqwgrmvta8qdiy773",
                "SUSE12SP3-SAP": "m-hp3hhmrq470hmya3vnm1",
                "SUSE12SP5-SAP": "m-hp3ajh1n5d1skdzln531",
                "SUSE15SP1-SAP": "m-hp36vf47mabpk1u2564n"
            },
            "cn-wulanchabu": {
                "SUSE12SP4-SAP": "Unsupported-Image",
                "SUSE12SP3-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "Unsupported-Image",
                "SUSE15SP1-SAP": "Unsupported-Image"
            },
            "cn-hangzhou": {
                "SUSE12SP4-SAP": "m-bp11nv53mkrq6va2z2zb",
                "SUSE12SP3-SAP": "m-bp12rkdt0g3fb0z38xch",
                "SUSE12SP5-SAP": "m-bp1ftgc2qu55wwozh4ib",
                "SUSE15SP1-SAP": "m-bp156ot143ax3ts5w0j3"
            },
            "cn-shanghai": {
                "SUSE12SP4-SAP": "m-uf6de7vp44isn89p4bft",
                "SUSE12SP3-SAP": "m-uf6h5698n0gt6rawcp9r",
                "SUSE12SP5-SAP": "m-uf6a045wxtykh2x5q6yw",
                "SUSE15SP1-SAP": "m-uf6h994v3htfswy486ye"
            },
            "cn-shenzhen": {
                "SUSE12SP4-SAP": "m-wz9guce5swcqvrccis2e",
                "SUSE12SP3-SAP": "m-wz92rkdt0g3fb0z38xcg",
                "SUSE12SP5-SAP": "m-wz90jdqwzzvyym2x5r98",
                "SUSE15SP1-SAP": "m-wz9c6670iwpk7beqbr0b"
            },
            "cn-heyuan": {
                "SUSE12SP4-SAP": "Unsupported-Image",
                "SUSE12SP3-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "m-f8zg6swg6litwfb58mtn",
                "SUSE15SP1-SAP": "Unsupported-Image"
            },
            "cn-guangzhou": {
                "SUSE12SP4-SAP": "Unsupported-Image",
                "SUSE12SP3-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "Unsupported-Image",
                "SUSE15SP1-SAP": "Unsupported-Image"
            },
            "cn-chengdu": {
                "SUSE12SP4-SAP": "m-2vccs9eajplyeaqxr5tb",
                "SUSE12SP3-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "m-2vcei13xa3hr8pc92ddn",
                "SUSE15SP1-SAP": "m-2vch3hgyl4bb3szypz1w"
            },
            "cn-hongkong": {
                "SUSE12SP4-SAP": "m-j6c8f0m7l9efst19988o",
                "SUSE12SP3-SAP": "m-j6casiagee9if1dkqywx",
                "SUSE12SP5-SAP": "m-j6cb5993exopy9cjbz4p",
                "SUSE15SP1-SAP": "m-j6c86979j4jk4u3qykog"
            },
            "ap-northeast-1": {
                "SUSE12SP4-SAP": "m-6weakspx47fnlcvkrn91",
                "SUSE12SP3-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "m-6we2r8xryrm19axfcj73",
                "SUSE15SP1-SAP": "m-6we5l2qwdvjfzx3v5l7c"
            },
            "ap-southeast-1": {
                "SUSE12SP4-SAP": "m-t4ner8q8f91dqyqoufpu",
                "SUSE12SP3-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "m-t4nj3ls5fk4gl82jvvqv",
                "SUSE15SP1-SAP": "m-t4n4dnq36gp4t4344h01"
            },
            "ap-southeast-2": {
                "SUSE12SP4-SAP": "m-p0w26r3mz7ftsmcq1kdp",
                "SUSE12SP3-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "m-p0w8w8m25tyjnn7734wc",
                "SUSE15SP1-SAP": "m-p0wf64r8mk2vla6ryhch"
            },
            "ap-southeast-3": {
                "SUSE12SP4-SAP": "m-8psblys0tnaeagmnffct",
                "SUSE12SP3-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "m-8ps42oikhdbanns5tun8",
                "SUSE15SP1-SAP": "m-8psh9u33v5m11xdv0194"
            },
            "ap-southeast-5": {
                "SUSE12SP4-SAP": "m-k1acfsasdquoq5c92irt",
                "SUSE12SP3-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "m-k1ae9n48eu1r5on56f3k",
                "SUSE15SP1-SAP": "m-k1agl71291wn3m7h974k"
            },
            "ap-south-1": {
                "SUSE12SP4-SAP": "m-a2d4ls002xqtzhy4md2f",
                "SUSE12SP3-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "m-a2dbc6ktxlwhvr7ehgag",
                "SUSE15SP1-SAP": "m-a2d3qk396rg6t2hvgmse"
            },
            "us-east-1": {
                "SUSE12SP4-SAP": "m-0xii030hn7pshhbsi3j4",
                "SUSE12SP3-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "m-0xiael75n5lhtpqqrqe6",
                "SUSE15SP1-SAP": "m-0xib5993exopybbkg13x"
            },
            "us-west-1": {
                "SUSE12SP4-SAP": "m-rj9c7vpp1patww4rrprk",
                "SUSE12SP3-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "m-rj9j7q6u3zz6hmfiqspi",
                "SUSE15SP1-SAP": "m-rj9ftgc2qu55wyo0l6hh"
            },
            "eu-west-1": {
                "SUSE12SP4-SAP": "m-d7ob1p0m34mloybq07a0",
                "SUSE12SP3-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "m-d7o0ab990gkn2y7qz8vl",
                "SUSE15SP1-SAP": "m-d7o3el3sp9lrq7goehdf"
            },
            "me-east-1": {
                "SUSE12SP4-SAP": "m-eb3i3zwnm5gzg10vkfsq",
                "SUSE12SP3-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "m-eb3cy43esbj9n2233bk9",
                "SUSE15SP1-SAP": "m-eb3cy43esbj9n4147dje"
            },
            "eu-central-1": {
                "SUSE12SP4-SAP": "m-gw8c7cjngwx3mv32ogos",
                "SUSE12SP3-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "m-gw8etc4sa47f089swrp7",
                "SUSE15SP1-SAP": "m-gw8e0kakw4qbjg3jqdsg"
            }
        },
        "ImageMap-International": {
            "cn-qingdao": {
                "SUSE15SP1-SAP": "m-m5ea045wxtykh8u92cwa",
                "SUSE12SP5-SAP": "m-m5e11ndumxumdqi7rl2r",
                "SUSE12SP4-SAP": "m-m5e3hc48hr7dbvh6xf5m",
                "SUSE12SP2-SAP": "Unsupported-Image"
            },
            "cn-beijing": {
                "SUSE15SP1-SAP": "m-2zeael75n5lhtvnu3wbn",
                "SUSE12SP5-SAP": "m-2zegr90gig0ztxoewa7v",
                "SUSE12SP4-SAP": "m-2ze0nbdyhr7tjqljrrjp",
                "SUSE12SP2-SAP": "m-2zehi23fn35ph5wofyrk"
            },
            "cn-zhangjiakou": {
                "SUSE15SP1-SAP": "m-8vb8dhfor2t8x0ffld4n",
                "SUSE12SP5-SAP": "m-8vb8dhfor2t8x0ffld4o",
                "SUSE12SP4-SAP": "m-8vb4mqlomnjl6tepng24",
                "SUSE12SP2-SAP": "Unsupported-Image"
            },
            "cn-huhehaote": {
                "SUSE15SP1-SAP": "m-hp34p7t2nvu40axolzrs",
                "SUSE12SP5-SAP": "m-hp335fyfd8f4s8st4cng",
                "SUSE12SP4-SAP": "m-hp3abm1yx5o7ei0g3d6s",
                "SUSE12SP2-SAP": "Unsupported-Image"
            },
            "cn-wulanchabu": {
                "SUSE15SP1-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "Unsupported-Image",
                "SUSE12SP4-SAP": "Unsupported-Image",
                "SUSE12SP2-SAP": "Unsupported-Image"
            },
            "cn-hangzhou": {
                "SUSE15SP1-SAP": "m-bp1a6edmful0faydzprg",
                "SUSE12SP5-SAP": "m-bp1j4gjp7eovvqg8t77j",
                "SUSE12SP4-SAP": "m-bp11yfsmm8z1e2g1i2gs",
                "SUSE12SP2-SAP": "m-bp12vt3bzcu7kaovrgsq"
            },
            "cn-shanghai": {
                "SUSE15SP1-SAP": "m-uf6ael75n5lhtvnu3wbo",
                "SUSE12SP5-SAP": "m-uf6j7q6u3zz6hscm2yn0",
                "SUSE12SP4-SAP": "m-uf6792fthru7lokgr2k8",
                "SUSE12SP2-SAP": "m-uf6hi23fn35ph5wofyrj"
            },
            "cn-shenzhen": {
                "SUSE15SP1-SAP": "m-wz94dnq36gp4t816ckya",
                "SUSE12SP5-SAP": "m-wz90p8pmndbiiqgzzae6",
                "SUSE12SP4-SAP": "m-wz9h5hx9vyg8c0m0yseb",
                "SUSE12SP2-SAP": "Unsupported-Image"
            },
            "cn-heyuan": {
                "SUSE15SP1-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "Unsupported-Image",
                "SUSE12SP4-SAP": "Unsupported-Image",
                "SUSE12SP2-SAP": "Unsupported-Image"
            },
            "cn-guangzhou": {
                "SUSE15SP1-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "Unsupported-Image",
                "SUSE12SP4-SAP": "Unsupported-Image",
                "SUSE12SP2-SAP": "Unsupported-Image"
            },
            "cn-chengdu": {
                "SUSE15SP1-SAP": "Unsupported-Image",
                "SUSE12SP5-SAP": "Unsupported-Image",
                "SUSE12SP4-SAP": "Unsupported-Image",
                "SUSE12SP2-SAP": "Unsupported-Image"
            },
            "cn-hongkong": {
                "SUSE15SP1-SAP": "m-j6c9u75h5ca5at4jf8e1",
                "SUSE12SP5-SAP": "m-j6cgyvue45l5qznhbjk4",
                "SUSE12SP4-SAP": "m-j6c6nkpp8po91goeklzd",
                "SUSE12SP2-SAP": "Unsupported-Image"
            },
            "ap-northeast-1": {
                "SUSE15SP1-SAP": "m-6weghxde7233ca6ilk73",
                "SUSE12SP5-SAP": "m-6we8e948qbjqaef8k4e7",
                "SUSE12SP4-SAP": "m-6wee0vtnrmrgiqpzhxal",
                "SUSE12SP2-SAP": "m-6we5onkj2r81vrd8cbk0"
            },
            "ap-southeast-1": {
                "SUSE15SP1-SAP": "m-t4nc6670iwpk7fcsjuym",
                "SUSE12SP5-SAP": "m-t4n5af92715cc3gw7w1z",
                "SUSE12SP4-SAP": "m-t4n8zauwtmx8we5krnle",
                "SUSE12SP2-SAP": "Unsupported-Image"
            },
            "ap-southeast-2": {
                "SUSE15SP1-SAP": "m-p0wg3vs4ere35gpiva1x",
                "SUSE12SP5-SAP": "m-p0w8w8m25tyjnv3bjcst",
                "SUSE12SP4-SAP": "m-p0wj8eujncydsvje72y6",
                "SUSE12SP2-SAP": "m-p0w8d7fplc8r1shcxgu5"
            },
            "ap-southeast-3": {
                "SUSE15SP1-SAP": "m-8psh9u33v5m121bx857e",
                "SUSE12SP5-SAP": "m-8ps42oikhdbanvoaa2jp",
                "SUSE12SP4-SAP": "m-8ps25ffdueug1c369ssu",
                "SUSE12SP2-SAP": "Unsupported-Image"
            },
            "ap-southeast-5": {
                "SUSE15SP1-SAP": "m-k1a3vd45u805vc4vyguf",
                "SUSE12SP5-SAP": "m-k1a3vd45u805ve3x2itl",
                "SUSE12SP4-SAP": "m-k1aahqraspev9u1hwji5",
                "SUSE12SP2-SAP": "m-k1a4lbunomoylni6eu7s"
            },
            "ap-south-1": {
                "SUSE15SP1-SAP": "m-a2d1hv82xoycznhrmdfx",
                "SUSE12SP5-SAP": "m-a2d89803w3iccr5t5831",
                "SUSE12SP4-SAP": "m-a2ddi4nczo74c33cdypn",
                "SUSE12SP2-SAP": "m-a2d6kqlwc6ubrq0rmgm2"
            },
            "us-east-1": {
                "SUSE15SP1-SAP": "m-0xi1qg6uo38s0bicum9r",
                "SUSE12SP5-SAP": "m-0xi86979j4jk4y1t6omr",
                "SUSE12SP4-SAP": "m-0xi8bvlc0pad0gzmw2gz",
                "SUSE12SP2-SAP": "Unsupported-Image"
            },
            "us-west-1": {
                "SUSE15SP1-SAP": "m-rj96d5kf7i0ieb7wwpb5",
                "SUSE12SP5-SAP": "m-rj9b5993exopyh8ns71b",
                "SUSE12SP4-SAP": "m-rj90q83mb4spvmgvll5t",
                "SUSE12SP2-SAP": "Unsupported-Image"
            },
            "eu-west-1": {
                "SUSE15SP1-SAP": "m-d7o3el3sp9lrq9fpijck",
                "SUSE12SP5-SAP": "m-d7o0ab990gkn363vfgs3",
                "SUSE12SP4-SAP": "m-d7oeu4ln7cr86q4xxdk0",
                "SUSE12SP2-SAP": "m-d7o68fojryhbraf0ev6o"
            },
            "me-east-1": {
                "SUSE15SP1-SAP": "m-eb39u6jt06xrcqrrb9pn",
                "SUSE12SP5-SAP": "m-eb39u6jt06xrcsqsfbos",
                "SUSE12SP4-SAP": "m-eb3isthca99jyq4scsvr",
                "SUSE12SP2-SAP": "m-eb30vsuh6lbbekfmpb7c"
            },
            "eu-central-1": {
                "SUSE15SP1-SAP": "m-gw87euw1ddnni32wg5pp",
                "SUSE12SP5-SAP": "m-gw87euw1ddnnhr8prtv0",
                "SUSE12SP4-SAP": "Unsupported-Image",
                "SUSE12SP2-SAP": "m-gw8ddq8bthtcccrauyim"
            }
        },
        "InstanceTypeMap": {
            "ecs.c5.large(2vCPUs 4GiB)": {
                "InstanceTypeId": "ecs.c5.large"
            },
            "ecs.c5.xlarge(4vCPUs 8GiB)": {
                "InstanceTypeId": "ecs.c5.xlarge"
            },
            "ecs.c5.8xlarge(32vCPUs 64GiB)": {
                "InstanceTypeId": "ecs.c5.8xlarge"
            },
            "ecs.g5.2xlarge(8vCPUs 30GiB)": {
                "InstanceTypeId": "ecs.g5.2xlarge"
            },
            "ecs.g5.3xlarge(12vCPUs 48GiB)": {
                "InstanceTypeId": "ecs.g5.3xlarge"
            },
            "ecs.g5.4xlarge(16vCPUs 64GiB)": {
                "InstanceTypeId": "ecs.g5.4xlarge"
            },
            "ecs.g5.6xlarge(24vCPUs 96GiB)": {
                "InstanceTypeId": "ecs.g5.6xlarge"
            },
            "ecs.g5.8xlarge(32vCPUs 128GiB)": {
                "InstanceTypeId": "ecs.g5.8xlarge"
            },
            "ecs.g5.large(2vCPUs 8GiB)": {
                "InstanceTypeId": "ecs.g5.large"
            },
            "ecs.g5.xlarge(4vCPUs 16GiB)": {
                "InstanceTypeId": "ecs.g5.xlarge"
            },
            "ecs.g6.large(2vCPUs 8GiB)": {
                "InstanceTypeId": "ecs.g6.large"
            },
            "ecs.g6.xlarge(4vCPUs 16GiB)": {
                "InstanceTypeId": "ecs.g6.xlarge"
            },
            "ecs.g6.2xlarge(8vCPUs 32GiB)": {
                "InstanceTypeId": "ecs.g6.2xlarge"
            },
            "ecs.g6.3xlarge(12vCPUs 48GiB)": {
                "InstanceTypeId": "ecs.g6.3xlarge"
            },
            "ecs.g6.4xlarge(16vCPUs 64GiB)": {
                "InstanceTypeId": "ecs.g6.4xlarge"
            },
            "ecs.g6.6xlarge(24vCPUs 96GiB)": {
                "InstanceTypeId": "ecs.g6.6xlarge"
            },
            "ecs.g6.8xlarge(32vCPUs 128GiB)": {
                "InstanceTypeId": "ecs.g6.8xlarge"
            },
            "ecs.re6.13xlarge(52vCPUs 768GiB)":{
                "InstanceTypeId": "ecs.re6.13xlarge"
            },
            "ecs.r5.16xlarge(64vCPUs 512GiB)": {
                "InstanceTypeId": "ecs.r5.16xlarge"
            },
            "ecs.r5.2xlarge(8vCPUs 64GiB)": {
                "InstanceTypeId": "ecs.r5.2xlarge"
            },
            "ecs.r5.3xlarge(12vCPUs 96GiB)": {
                "InstanceTypeId": "ecs.r5.3xlarge"
            },
            "ecs.r5.4xlarge(16vCPUs 128GiB)": {
                "InstanceTypeId": "ecs.r5.4xlarge"
            },
            "ecs.r5.6xlarge(24vCPUs 192GiB)": {
                "InstanceTypeId": "ecs.r5.6xlarge"
            },
            "ecs.r5.8xlarge(32vCPUs 256GiB)": {
                "InstanceTypeId": "ecs.r5.8xlarge"
            },
            "ecs.r5.large(2vCPUs 16GiB)": {
                "InstanceTypeId": "ecs.r5.large"
            },
            "ecs.r5.xlarge(4vCPUs 32GiB)": {
                "InstanceTypeId": "ecs.r5.xlarge"
            },
            "ecs.r6.large(2vCPUs 16GiB)": {
                "InstanceTypeId": "ecs.r6.large"
            },
            "ecs.r6.xlarge(4vCPUs 32GiB)": {
                "InstanceTypeId": "ecs.r6.xlarge"
            },
            "ecs.r6.2xlarge(8vCPUs 64GiB)": {
                "InstanceTypeId": "ecs.r6.2xlarge"
            },
            "ecs.r6.3xlarge(12vCPUs 96GiB)": {
                "InstanceTypeId": "ecs.r6.3xlarge"
            },
            "ecs.r6.4xlarge(16vCPUs 128GiB)": {
                "InstanceTypeId": "ecs.r6.4xlarge"
            },
            "ecs.r6.6xlarge(24vCPUs 192GiB)": {
                "InstanceTypeId": "ecs.r6.6xlarge"
            },
            "ecs.r6.8xlarge(32vCPUs 256GiB)": {
                "InstanceTypeId": "ecs.r6.8xlarge"
            },
            "ecs.r6.13xlarge(52vCPUs 384GiB)": {
                "InstanceTypeId": "ecs.r6.13xlarge"
            },
            "ecs.re6.26xlarge(104vCPUs 1536GiB)": {
                "InstanceTypeId": "ecs.re6.26xlarge"
            },
            "ecs.re4.20xlarge(80vCPUs 960GiB)": {
                "InstanceTypeId": "ecs.re4.20xlarge"
            },
            "ecs.re6.52xlarge(208vCPUs 3072GiB)": {
                "InstanceTypeId": "ecs.re6.52xlarge"
            },
            "ecs.re4.40xlarge(160vCPUs 1920GiB)": {
                "InstanceTypeId": "ecs.re4.40xlarge"
            },
            "ecs.re4e.40xlarge(160vCPUs 3840GiB)": {
                "InstanceTypeId": "ecs.re4e.40xlarge"
            },
            "ecs.se1.14xlarge(56vCPUs 480GiB)": {
                "InstanceTypeId": "ecs.se1.14xlarge"
            },
            "ecs.sn1ne.large(2vCPUs 4GiB)": {
                "InstanceTypeId": "ecs.sn1ne.large"
            },
            "ecs.sn1ne.xlarge(4vCPUs 8GiB)": {
                "InstanceTypeId": "ecs.sn1ne.xlarge"
            },
            "ecs.sn2ne.14xlarge (56vCPUs 224GiB)": {
                "InstanceTypeId": "ecs.sn2ne.14xlarge "
            },
            "ecs.sn2ne.2xlarge(8vCPUs 32GiB)": {
                "InstanceTypeId": "ecs.sn2ne.2xlarge"
            },
            "ecs.sn2ne.3xlarge(12vCPUs 48GiB)": {
                "InstanceTypeId": "ecs.sn2ne.3xlarge"
            },
            "ecs.sn2ne.4xlarge(16vCPUs 64GiB)": {
                "InstanceTypeId": "ecs.sn2ne.4xlarge"
            },
            "ecs.sn2ne.6xlarge(24vCPUs 96GiB)": {
                "InstanceTypeId": "ecs.sn2ne.6xlarge"
            },
            "ecs.sn2ne.8xlarge(32vCPUs 128GiB)": {
                "InstanceTypeId": "ecs.sn2ne.8xlarge"
            },
            "ecs.sn2ne.large(2vCPUs 8GiB)": {
                "InstanceTypeId": "ecs.sn2ne.large"
            },
            "ecs.sn2ne.xlarge(4vCPUs 16GiB)": {
                "InstanceTypeId": "ecs.sn2ne.xlarge"
            },
            "ecs.ebmre6-6t.52xlarge(208vCPUs 6144GiB)": {
                "InstanceTypeId": "ecs.ebmre6-6t.52xlarge"
            },
            "ecs.g6e.large(2vCPUs 8GiB)": {
                "InstanceTypeId": "ecs.g6e.large"
            },
            "ecs.g6e.xlarge(4vCPUs 16GiB)": {
                "InstanceTypeId": "ecs.g6e.xlarge"
            },
            "ecs.g6e.2xlarge(8vCPUs 32GiB)": {
                "InstanceTypeId": "ecs.g6e.2xlarge"
            },
            "ecs.g6e.4xlarge(16vCPUs 64GiB)": {
                "InstanceTypeId": "ecs.g6e.4xlarge"
            },
            "ecs.g6e.6xlarge(24vCPUs 96GiB)": {
                "InstanceTypeId": "ecs.g6e.6xlarge"
            },
            "ecs.g6e.8xlarge(32vCPUs 128GiB)": {
                "InstanceTypeId": "ecs.g6e.8xlarge"
            },
            "ecs.r6e.large(2vCPUs 16GiB)": {
                "InstanceTypeId": "ecs.r6e.large"
            },
            "ecs.r6e.xlarge(4vCPUs 32GiB)": {
                "InstanceTypeId": "ecs.r6e.xlarge"
            },
            "ecs.r6e.2xlarge(8vCPUs 64GiB)": {
                "InstanceTypeId": "ecs.r6e.2xlarge"
            },
            "ecs.r6e.4xlarge(16vCPUs 128GiB)": {
                "InstanceTypeId": "ecs.r6e.4xlarge"
            },
            "ecs.r6e.6xlarge(24vCPUs 192GiB)": {
                "InstanceTypeId": "ecs.r6e.6xlarge"
            },
            "ecs.r6e.8xlarge(32vCPUs 256GiB)": {
                "InstanceTypeId": "ecs.r6e.8xlarge"
            },
            "ecs.c6e.large(2vCPUs 4GiB)": {
                "InstanceTypeId": "ecs.c6e.large"
            },
            "ecs.c6e.xlarge(4vCPUs 8GiB)": {
                "InstanceTypeId": "ecs.c6e.xlarge"
            },
            "ecs.c6e.2xlarge(8vCPUs 16GiB)": {
                "InstanceTypeId": "ecs.c6e.2xlarge"
            },
            "ecs.c6e.4xlarge(16vCPUs 32GiB)": {
                "InstanceTypeId": "ecs.c6e.4xlarge"
            },
            "ecs.c6e.6xlarge(24vCPUs 48GiB)": {
                "InstanceTypeId": "ecs.c6e.6xlarge"
            },
            "ecs.c6e.8xlarge(32vCPUs 64GiB)": {
                "InstanceTypeId": "ecs.c6e.8xlarge"
            }
        }
    },
    "Conditions": {
        "CreateWindowsRDPCondition": {
            "Ref": "WindowsRDPCondition"
        },
        "CustomizedImageCondition": {
            "Ref": "CustomizedImage"
        },
        "AutomationProviderCondition": {
            "Fn::Equals": [
                {
                    "Ref": "AutomationProvider"
                },
                "sap-automation"
            ]
        }
    },
    "Resources": {
        "NWServerCloudInitWaitCondHandle": {
            "Type": "ALIYUN::ROS::WaitConditionHandle"
        },
        "NWServerCloudInitWaitCond": {
            "Type": "ALIYUN::ROS::WaitCondition",
            "Properties": {
                "Timeout": 36000,
                "Count": 1,
                "Handle": {
                    "Ref": "NWServerCloudInitWaitCondHandle"
                }
            }
        },
        "NWSecurityGroup": {
            "Type": "ALIYUN::ECS::SecurityGroup",
            "Properties": {
                "VpcId": {
                    "Ref": "VpcId"
                },
                "SecurityGroupName": "NW_sg",
                "SecurityGroupIngress": [
                    {
                        "PortRange": {
                            "Fn::Join": [
                                "",
                                [
                                    "32",
                                    {
                                        "Ref": "ASCSInstanceNumber"
                                    },
                                    "/",
                                    "32",
                                    {
                                        "Ref": "ASCSInstanceNumber"
                                    }
                                ]
                            ]
                        },
                        "Priority": 1,
                        "SourceCidrIp": "0.0.0.0/0",
                        "IpProtocol": "tcp",
                        "NicType": "intranet"
                    },
                    {
                        "PortRange": {
                            "Fn::Join": [
                                "",
                                [
                                    "32",
                                    {
                                        "Ref": "PASInstanceNumber"
                                    },
                                    "/",
                                    "32",
                                    {
                                        "Ref": "PASInstanceNumber"
                                    }
                                ]
                            ]
                        },
                        "Priority": 1,
                        "SourceCidrIp": "0.0.0.0/0",
                        "IpProtocol": "tcp",
                        "NicType": "intranet"
                    },
                    {
                        "PortRange": {
                            "Fn::Join": [
                                "",
                                [
                                    "33",
                                    {
                                        "Ref": "ASCSInstanceNumber"
                                    },
                                    "/",
                                    "33",
                                    {
                                        "Ref": "ASCSInstanceNumber"
                                    }
                                ]
                            ]
                        },
                        "Priority": 1,
                        "SourceCidrIp": "0.0.0.0/0",
                        "IpProtocol": "tcp",
                        "NicType": "intranet"
                    },
                    {
                        "PortRange": {
                            "Fn::Join": [
                                "",
                                [
                                    "33",
                                    {
                                        "Ref": "PASInstanceNumber"
                                    },
                                    "/",
                                    "33",
                                    {
                                        "Ref": "PASInstanceNumber"
                                    }
                                ]
                            ]
                        },
                        "Priority": 1,
                        "SourceCidrIp": "0.0.0.0/0",
                        "IpProtocol": "tcp",
                        "NicType": "intranet"
                    },
                    {
                        "PortRange": {
                            "Fn::Join": [
                                "",
                                [
                                    "36",
                                    {
                                        "Ref": "ASCSInstanceNumber"
                                    },
                                    "/",
                                    "36",
                                    {
                                        "Ref": "ASCSInstanceNumber"
                                    }
                                ]
                            ]
                        },
                        "Priority": 1,
                        "SourceCidrIp": "0.0.0.0/0",
                        "IpProtocol": "tcp",
                        "NicType": "intranet"
                    },
                    {
                        "PortRange": {
                            "Fn::Join": [
                                "",
                                [
                                    "36",
                                    {
                                        "Ref": "PASInstanceNumber"
                                    },
                                    "/",
                                    "36",
                                    {
                                        "Ref": "PASInstanceNumber"
                                    }
                                ]
                            ]
                        },
                        "Priority": 1,
                        "SourceCidrIp": "0.0.0.0/0",
                        "IpProtocol": "tcp",
                        "NicType": "intranet"
                    },
                    {
                        "PortRange": {
                            "Fn::Join": [
                                "",
                                [
                                    "39",
                                    {
                                        "Ref": "ASCSInstanceNumber"
                                    },
                                    "/",
                                    "39",
                                    {
                                        "Ref": "ASCSInstanceNumber"
                                    }
                                ]
                            ]
                        },
                        "Priority": 1,
                        "SourceCidrIp": "0.0.0.0/0",
                        "IpProtocol": "tcp",
                        "NicType": "intranet"
                    },
                    {
                        "PortRange": {
                            "Fn::Join": [
                                "",
                                [
                                    "39",
                                    {
                                        "Ref": "PASInstanceNumber"
                                    },
                                    "/",
                                    "39",
                                    {
                                        "Ref": "PASInstanceNumber"
                                    }
                                ]
                            ]
                        },
                        "Priority": 1,
                        "SourceCidrIp": "0.0.0.0/0",
                        "IpProtocol": "tcp",
                        "NicType": "intranet"
                    },
                    {
                        "PortRange": "1128/1129",
                        "Priority": 1,
                        "SourceCidrIp": "0.0.0.0/0",
                        "IpProtocol": "tcp",
                        "NicType": "intranet"
                    },
                    {
                        "PortRange": "22/22",
                        "Priority": 1,
                        "SourceCidrIp": "0.0.0.0/0",
                        "IpProtocol": "tcp",
                        "NicType": "intranet"
                    },
                    {
                        "PortRange": "-1/-1",
                        "Priority": 1,
                        "SourceCidrIp": "0.0.0.0/0",
                        "IpProtocol": "icmp",
                        "NicType": "intranet"
                    }
                ]
            }
        },
        "RosRole": {
            "Type": "ALIYUN::RAM::Role",
            "Properties": {
                "RoleName": {
                    "Fn::Join": [
                        "",
                        [
                            "SAPRole-",
                            {
                                "Ref": "ALIYUN::StackId"
                            }
                        ]
                    ]
                },
                "AssumeRolePolicyDocument": {
                    "Statement": [
                        {
                            "Action": "sts:AssumeRole",
                            "Effect": "Allow",
                            "Principal": {
                                "Service": [
                                    "ecs.aliyuncs.com"
                                ]
                            }
                        }
                    ],
                    "Version": "1"
                },
                "Policies": [
                    {
                        "PolicyName": {
                            "Fn::Join": [
                                "",
                                [
                                    "SAPRolePolicy-",
                                    {
                                        "Ref": "ALIYUN::StackId"
                                    }
                                ]
                            ]
                        },
                        "PolicyDocument": {
                            "Statement": [
                                {
                                    "Action": [
                                        "oss:Get*",
                                        "oss:List*"
                                    ],
                                    "Effect": "Allow",
                                    "Resource": [
                                        "*"
                                    ]
                                }
                            ],
                            "Version": "1"
                        }
                    }
                ]
            }
        },
        "AttachMCPolicyToRole1": {
            "Type": "ALIYUN::RAM::AttachPolicyToRole",
            "Properties": {
                "PolicyType": "System",
                "RoleName": {
                    "Fn::GetAtt": [
                        "RosRole",
                        "RoleName"
                    ]
                },
                "PolicyName": "AliyunECSReadOnlyAccess"
            }
        },
        "AttachMCPolicyToRole2": {
            "Type": "ALIYUN::RAM::AttachPolicyToRole",
            "Properties": {
                "PolicyType": "System",
                "RoleName": {
                    "Fn::GetAtt": [
                        "RosRole",
                        "RoleName"
                    ]
                },
                "PolicyName": "AliyunCloudMonitorReadOnlyAccess"
            }
        },
        "NWServer": {
            "Type": "ALIYUN::ECS::Instance",
            "Properties": {
                "IoOptimized": "optimized",
                "VpcId": {
                    "Ref": "VpcId"
                },
                "PrivateIpAddress": {
                    "Ref": "NWPrivateIpAddress"
                },
                "VSwitchId": {
                    "Ref": "VSwitchId"
                },
                "SecurityGroupId": {
                    "Ref": "NWSecurityGroup"
                },
                "HostName": {
                    "Ref": "NWHostname"
                },
                "ImageId": {
                    "Fn::If": [
                        "CustomizedImageCondition",
                        {
                            "Ref": "CustomizedImageId"
                        },
                        {
                            "Fn::FindInMap": [
                                {
                                    "Fn::Join": [
                                        "-",
                                        [
                                            "ImageMap",
                                            {
                                                "Ref": "Site"
                                            }
                                        ]
                                    ]
                                },
                                {
                                    "Ref": "ALIYUN::Region"
                                },
                                {
                                    "Ref": "ImageId"
                                }
                            ]
                        }
                    ]
                },
                "InstanceType": {
                    "Fn::FindInMap": [
                        "InstanceTypeMap",
                        {
                            "Ref": "NWInstanceType"
                        },
                        "InstanceTypeId"
                    ]
                },
                "SystemDiskSize": {
                    "Ref": "SystemDiskSize"
                },
                "SystemDiskCategory": {
                    "Ref": "SystemDiskCategory"
                },
                "Password": {
                    "Ref": "LoginPassword"
                },
                "RamRoleName": {
                    "Fn::GetAtt": [
                        "RosRole",
                        "RoleName"
                    ]
                },
                "DiskMappings": [
                    {
                        "Category": {
                            "Ref": "NWUsrsapDiskCategory"
                        },
                        "Device": "/dev/xvdb",
                        "Size": {
                            "Ref": "UsrsapSize"
                        }
                    },
                    {
                        "Category": {
                            "Ref": "SapmntDiskCategory"
                        },
                        "Device": "/dev/xvdc",
                        "Size": {
                            "Ref": "SapmntSize"
                        }
                    },
                    {
                        "Category": "cloud_essd",
                        "Device": "/dev/xvdd",
                        "Size": {
                            "Ref": "NWSwapDiskSize"
                        }
                    }
                ],
                "UserData": {
                    "Fn::Replace": [
                        {
                            "ros-notify": {
                                "Fn::GetAtt": [
                                    "NWServerCloudInitWaitCondHandle",
                                    "CurlCli"
                                ]
                            }
                        },
                        {
                            "Fn::Join": [
                                "",
                                [
                                    "#!/bin/bash\n",
                                    "MasterPass=",
                                    {
                                        "Ref": "MasterPass"
                                    },
                                    "\n",
                                    "HANASID=",
                                    {
                                        "Ref": "HANASID"
                                    },
                                    "\n",
                                    "HANAInstanceNumber=",
                                    {
                                        "Ref": "HANAInstanceNumber"
                                    },
                                    "\n",
                                    "HANAHostName=",
                                    {
                                        "Ref": "HANAHostName"
                                    },
                                    "\n",
                                    "HANAPrivateIpAddress=",
                                    {
                                        "Ref": "HANAPrivateIpAddress"
                                    },
                                    "\n",
                                    "SapmntSize=",
                                    {
                                        "Fn::Str": {
                                            "Ref": "SapmntSize"
                                        }
                                    },
                                    "\n",
                                    "UsrsapSize=",
                                    {
                                        "Fn::Str": {
                                            "Ref": "UsrsapSize"
                                        }
                                    },
                                    "\n",
                                    "NWSwapDiskSize=",
                                    {
                                        "Ref": "NWSwapDiskSize"
                                    },
                                    "\n",
                                    "MediaPath=",
                                    {
                                        "Ref": "NWMediaPath"
                                    },
                                    "\n",
                                    "SAPSID=",
                                    {
                                        "Ref": "SAPSID"
                                    },
                                    "\n",
                                    "ASCSInstanceNumber=",
                                    {
                                        "Ref": "ASCSInstanceNumber"
                                    },
                                    "\n",
                                    "PASInstanceNumber=",
                                    {
                                        "Ref": "PASInstanceNumber"
                                    },
                                    "\n",
                                    "FQDN=",
                                    {
                                        "Ref": "FQDN"
                                    },
                                    "\n",
                                    "NWSapSysGid=",
                                    {
                                        "Ref": "NWSapSysGid"
                                    },
                                    "\n",
                                    "NWSapSidAdmUid=",
                                    {
                                        "Ref": "NWSapSidAdmUid"
                                    },
                                    "\n",
                                    "NWSapAdmUid=",
                                    {
                                        "Ref": "NWSapAdmUid"
                                    },
                                    "\n",
                                    "AutomationBucketName=",
                                    {
                                        "Fn::If": [
                                            "AutomationProviderCondition",
                                            {
                                                "Fn::Join": [
                                                    "",
                                                    [
                                                        {
                                                            "Ref": "AutomationProvider"
                                                        },
                                                        "-",
                                                        {
                                                            "Ref": "ALIYUN::Region"
                                                        }
                                                    ]
                                                ]
                                            },
                                            {
                                                "Ref": "AutomationProvider"
                                            }
                                        ]
                                    },
                                    "\n",
                                    "ApplicationVersion=\"",
                                    {
                                        "Ref": "ApplicationVersion"
                                    },
                                    "\"\n",
                                    "export QUICKSTART_SAP_REGION=$(curl \"http://100.100.100.200/2016-01-01/meta-data/region-id\")\n",
                                    "export QUICKSTART_SAP_LOG_DIR='/var/log/alibabacloud-quickstart-sap'\n",
                                    "export QUICKSTART_SAP_INSTALL_LOG=\"${QUICKSTART_SAP_LOG_DIR}/Install.log\"\n",
                                    "export QUICKSTART_SAP_ERROR_LOG=\"${QUICKSTART_SAP_LOG_DIR}/Error.log\"\n",
                                    "export QUICKSTART_SAP_SCRIPT_DIR='/tmp/alibabacloud-quickstart-sap'\n",
                                    "export QUICKSTART_SAP_INSTALL_INPUT_PATH=\"${QUICKSTART_SAP_SCRIPT_DIR}/quickstart_sap_input_parameter.cfg\"\n",
                                    "export QUICKSTART_SAP_VERSION=\"v1\"\n",
                                    "export QUICKSTART_SAP_FUNCTIONS_SCRIPT_URL=\"http://${AutomationBucketName}.oss-${QUICKSTART_SAP_REGION}.aliyuncs.com/alibabacloud-quickstart/${QUICKSTART_SAP_VERSION}/sap-common/scripts/functions.sh\"\n",
                                    "export QUICKSTART_SAP_INSTALL_SCRIPT_URL=\"http://${AutomationBucketName}.oss-${QUICKSTART_SAP_REGION}.aliyuncs.com/alibabacloud-quickstart/${QUICKSTART_SAP_VERSION}/sap-netweaver/sap-netweaver-single-node/scripts/sap_netweaver_single_node.sh\"\n",
                                    "grep -q \"nameserver 100.100.2.138\" /etc/resolv.conf || sed -i '$a nameserver '\"100.100.2.138\" /etc/resolv.conf\n",
                                    "grep -q \"nameserver 100.100.2.136\" /etc/resolv.conf || sed -i '$a nameserver '\"100.100.2.136\" /etc/resolv.conf\n",
                                    "mkdir -p ${QUICKSTART_SAP_SCRIPT_DIR}\n",
                                    "cd ${QUICKSTART_SAP_SCRIPT_DIR} && wget ${QUICKSTART_SAP_INSTALL_SCRIPT_URL} -O \"Install.sh\"\n",
                                    "wget ${QUICKSTART_SAP_FUNCTIONS_SCRIPT_URL} -O \"functions.sh\"\n",
                                    "if [[ ! -s \"${QUICKSTART_SAP_SCRIPT_DIR}/Install.sh\" ]] || [[ ! -s \"${QUICKSTART_SAP_SCRIPT_DIR}/functions.sh\" ]];then\n",
                                    "    ros-notify -d \"{\\\"id\\\" : \\\"ApplicationNode\\\", \\\"Data\\\" : \\\"Failed to download installation script.\\\", \\\"reason\\\" : \\\"Failed to download installation script.\\\", \\\"status\\\" : \\\"FAILURE\\\"}\"\n",
                                    "    exit\n",
                                    "fi\n",
                                    "chmod -R 777 \"${QUICKSTART_SAP_SCRIPT_DIR}/Install.sh\"\n",
                                    "cat << EOF > ${QUICKSTART_SAP_INSTALL_INPUT_PATH}\n",
                                    "MasterPass=${MasterPass}\n",
                                    "HANASID=${HANASID}\n",
                                    "HANAInstanceNumber=${HANAInstanceNumber}\n",
                                    "HANAHostName=${HANAHostName}\n",
                                    "HANAPrivateIpAddress=${HANAPrivateIpAddress}\n",
                                    "SAPSID=${SAPSID}\n",
                                    "ASCSInstanceNumber=${ASCSInstanceNumber}\n",
                                    "PASInstanceNumber=${PASInstanceNumber}\n",
                                    "SapmntSize=${SapmntSize}\n",
                                    "UsrsapSize=${UsrsapSize}\n",
                                    "NWSwapDiskSize=${NWSwapDiskSize}\n",
                                    "DiskIdSapmnt=vdb\n",
                                    "DiskIdUsrSap=vdc\n",
                                    "DiskIdSwap=vdd\n",
                                    "MediaPath=${MediaPath}\n",
                                    "FQDN=${FQDN}\n",
                                    "NWSapSysGid=${NWSapSysGid}\n",
                                    "NWSapSidAdmUid=${NWSapSidAdmUid}\n",
                                    "NWSapAdmUid=${NWSapAdmUid}\n",
                                    "AutomationBucketName=${AutomationBucketName}\n",
                                    "ApplicationVersion=\"${ApplicationVersion}\"\n",
                                    "EOF\n",
                                    "${QUICKSTART_SAP_SCRIPT_DIR}/Install.sh -f ${QUICKSTART_SAP_INSTALL_INPUT_PATH} -s 0\n",
                                    "if [ $? = \"0\" ];then\n",
                                    "    ros-notify -d \"{\\\"id\\\" : \\\"ApplicationNode\\\", \\\"Data\\\" : \\\"SUCCESS\\\", \\\"status\\\" : \\\"SUCCESS\\\"}\"\n",
                                    "else\n",
                                    "    failed_info=$(tail -5 ${QUICKSTART_SAP_ERROR_LOG} | xargs)\n",
                                    "    ros-notify -d \"{\\\"id\\\" : \\\"ApplicationNode\\\", \\\"Data\\\" : \\\"ErrorLog(Only the last five lines):$failed_info\\\", \\\"reason\\\": \\\"$failed_info\\\", \\\"status\\\" : \\\"FAILURE\\\"}\"\n",
                                    "fi\n",
                                    "rm -rf ${QUICKSTART_SAP_SCRIPT_DIR}\n",
                                    ":> /var/lib/cloud/instance/user-data.txt.i\n",
                                    ":> /var/lib/cloud/instance/user-data.txt\n",
                                    ":> /var/lib/cloud/instance/scripts/part-001\n"
                                ]
                            ]
                        }
                    ]
                },
                "AllocatePublicIP": true,
                "InternetMaxBandwidthOut": 5,
                "InternetMaxBandwidthIn": 200,
                "KeyPairName": {
                    "Ref": "SSHKeyPair"
                }
            }
        },
        "HANASingleNodeStack": {
            "Type": "ALIYUN::ROS::Stack",
            "Properties": {
                "TemplateURL": {
                    "Fn::Join": [
                        "",
                        [
                            "https://",
                            {
                                "Fn::If": [
                                    "AutomationProviderCondition",
                                    {
                                        "Fn::Join": [
                                            "",
                                            [
                                                {
                                                    "Ref": "AutomationProvider"
                                                },
                                                "-",
                                                {
                                                    "Ref": "ALIYUN::Region"
                                                }
                                            ]
                                        ]
                                    },
                                    {
                                        "Ref": "AutomationProvider"
                                    }
                                ]
                            },
                            ".oss-",
                            {
                                "Ref": "ALIYUN::Region"
                            },
                            ".aliyuncs.com/alibabacloud-quickstart/v1/sap-hana/sap-hana-single-node/templates/HANA_Single_Node.json"
                        ]
                    ]
                },
                "TimeoutMins": 60,
                "Parameters": {
                    "ImageId": {
                        "Ref": "ImageId"
                    },
                    "CustomizedImage": {
                        "Ref": "CustomizedImage"
                    },
                    "CustomizedImageId": {
                        "Ref": "CustomizedImageId"
                    },
                    "ZoneId": {
                        "Ref": "ZoneId"
                    },
                    "VpcId": {
                        "Ref": "VpcId"
                    },
                    "VSwitchId": {
                        "Ref": "VSwitchId"
                    },
                    "InstanceType": {
                        "Ref": "HANAInstanceType"
                    },
                    "ECSHostname": {
                        "Ref": "HANAHostName"
                    },
                    "PrivateIpAddress": {
                        "Ref": "HANAPrivateIpAddress"
                    },
                    "LoginPassword": {
                        "Ref": "LoginPassword"
                    },
                    "HANASID": {
                        "Ref": "HANASID"
                    },
                    "HANAInstanceNumber": {
                        "Ref": "HANAInstanceNumber"
                    },
                    "SystemDiskCategory": {
                        "Ref": "SystemDiskCategory"
                    },
                    "SystemDiskSize": {
                        "Ref": "SystemDiskSize"
                    },
                    "DataLogDiskCategory": {
                        "Ref": "DataLogDiskCategory"
                    },
                    "DataSize": {
                        "Ref": "DataSize"
                    },
                    "LogSize": {
                        "Ref": "LogSize"
                    },
                    "SharedDiskCategory": {
                        "Ref": "SharedDiskCategory"
                    },
                    "SharedSize": {
                        "Ref": "SharedSize"
                    },
                    "UsrsapDiskCategory": {
                        "Ref": "HANAUsrsapDiskCategory"
                    },
                    "UsrsapSize": {
                        "Ref": "HANAUsrsapSize"
                    },
                    "MasterPass": {
                        "Ref": "MasterPass"
                    },
                    "MediaPath": {
                        "Ref": "MediaPath"
                    },
                    "SystemUsage": {
                        "Ref": "SystemUsage"
                    },
                    "HANASapSidAdmUid": {
                        "Ref": "HANASapSidAdmUid"
                    },
                    "HANASapSysGid": {
                        "Ref": "HANASapSysGid"
                    },
                    "AutomationProvider": {
                        "Ref": "AutomationProvider"
                    },
                    "Site": {
                        "Ref": "Site"
                    },
                    "SSHKeyPair": {
                        "Ref": "SSHKeyPair"
                    }
                }
            }
        },
        "CommonResources": {
            "Type": "ALIYUN::ROS::Stack",
            "Properties": {
                "TemplateURL": {
                    "Fn::Join": [
                        "",
                        [
                            "https://",
                            {
                                "Fn::If": [
                                    "AutomationProviderCondition",
                                    {
                                        "Fn::Join": [
                                            "",
                                            [
                                                {
                                                    "Ref": "AutomationProvider"
                                                },
                                                "-",
                                                {
                                                    "Ref": "ALIYUN::Region"
                                                }
                                            ]
                                        ]
                                    },
                                    {
                                        "Ref": "AutomationProvider"
                                    }
                                ]
                            },
                            ".oss-",
                            {
                                "Ref": "ALIYUN::Region"
                            },
                            ".aliyuncs.com/alibabacloud-quickstart/v1/sap-common/templates/Common_Resources.json"
                        ]
                    ]
                },
                "TimeoutMins": 10,
                "Parameters": {
                    "ZoneId": {
                        "Ref": "ZoneId"
                    },
                    "VpcId": {
                        "Ref": "VpcId"
                    },
                    "VSwitchId": {
                        "Ref": "VSwitchId"
                    },
                    "LoginPassword": {
                        "Ref": "LoginPassword"
                    },
                    "ActionTrailCondition": {
                        "Ref": "ActionTrailCondition"
                    },
                    "ActionTrailOssBucketName": {
                        "Ref": "ActionTrailOssBucketName"
                    },
                    "WindowsRDPImageId": {
                        "Ref": "WindowsRDPImageId"
                    },
                    "WindowsRDPHostname": {
                        "Ref": "WindowsRDPHostname"
                    },
                    "WindowsRDPCondition": {
                        "Ref": "WindowsRDPCondition"
                    },
                    "WindowsRDPInstanceType": {
                        "Ref": "WindowsRDPInstanceType"
                    },
                    "SystemDiskCategory": {
                        "Ref": "SystemDiskCategory"
                    }
                }
            }
        }
    },
    "Outputs": {
        "HANAInstallLog": {
            "Value": {
                "Fn::GetAtt": [
                    "HANASingleNodeStack",
                    "Outputs.InstallLog"
                ]
            }
        },
        "HANAServerId": {
            "Value": {
                "Fn::GetAtt": [
                    "HANASingleNodeStack",
                    "Outputs.HANAServerId"
                ]
            }
        },
        "HANAServerPrivateIp": {
            "Value": {
                "Fn::GetAtt": [
                    "HANASingleNodeStack",
                    "Outputs.HANAServerPrivateIP"
                ]
            }
        },
        "HANAServerPublicIp": {
            "Value": {
                "Fn::GetAtt": [
                    "HANASingleNodeStack",
                    "Outputs.HANAServerPublicIP"
                ]
            }
        },
        "NWInstallLog": {
            "Value": {
                "Fn::GetAtt": [
                    "NWServerCloudInitWaitCond",
                    "Data"
                ]
            }
        },
        "NWServerId": {
            "Value": {
                "Fn::GetAtt": [
                    "NWServer",
                    "InstanceId"
                ]
            }
        },
        "NWServerPrivateIp": {
            "Value": {
                "Fn::GetAtt": [
                    "NWServer",
                    "PrivateIp"
                ]
            }
        },
        "NWServerPublicIp": {
            "Value": {
                "Fn::GetAtt": [
                    "NWServer",
                    "PublicIp"
                ]
            }
        },
        "WindowsRDPPublicIP": {
            "Condition": "CreateWindowsRDPCondition",
            "Value": {
                "Fn::GetAtt": [
                    "CommonResources",
                    "Outputs.WindowsRDPPublicIP"
                ]
            }
        }
    }
}